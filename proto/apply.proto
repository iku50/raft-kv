syntax = "proto3";

package raftpb;

option go_package = "github.com/raft-kv/raft/proto";

message Command {
    enum Op {
        PUT = 0;
        GET = 1;
        DELETE = 2;
    }
    Op op = 1;
    string key = 2;
    string value = 3;
}

message ApplyArgs {
    Command command = 1;
}

message ApplyReply {
    int64 virtual_index = 1;
    int32 term = 2;
    bool success = 3;
}

service Apply {
    rpc Apply(ApplyArgs) returns (ApplyReply);
}